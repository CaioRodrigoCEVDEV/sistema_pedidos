<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title id="title"></title>
    <!--Link proprios projeto-->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#008000">

    <link rel="stylesheet" href="../css/style.css">
    <link rel="shortcut icon" href="/uploads/logo.jpg" type="image/x-icon">
    <link rel="apple-touch-icon" sizes="180x180" href="/uploads/apple-touch-icon.png">
    <!--links bootstrap-->
    <link rel="stylesheet" href="../css/style-main.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
        integrity="sha384-tViUnnbYAV00FLIhhi3v/dWt3Jxw4gZQcNoSCxCIFNJVCx7/D55/wXsrNIRANwdD" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">    

</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm  bg-white rounded fixed-top">
            <a class="navbar-brand" href="index" id="nomeEmpresa" ><img src="/uploads/logo.jpg" width="30" height="30" alt=""></a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"
                aria-controls="navbarNav" aria-expanded="false" aria-label="Alterna navega칞칚o">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item active">
                        <a class="nav-link" href="index">Inicio <span class="sr-only">(P치gina atual)</span></a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link " href="painel">Acesso</a>
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <div class="alert alert-dismissible fade show shadow p-3 m-2 bg-white rounded" id="tutorialAlert"
                style="max-width: 800px; margin: auto; display: none;" role="alert">
                <strong>Primeira vez utilizando nosso sitema de pedidos?</strong> Assista o tutorial caso tenha alguma
                dificuldade.
                <button type="button" class="close" data-dismiss="alert" aria-label="Close" id="tutorialAlertClose">
                    <span aria-hidden="true">&times;</span>
                </button>
                <hr>
                <p class="mb-0"><button type="button" class="btn btn-danger"> <i class="bi bi-youtube"> </i>Tutorial em
                        video </i></button></p>
        </div>    
        <div class="m-5">
            <form class="form-inline my-2 my-lg-0 mb-2">
                <label for="">Pesquisa Geral</label>
                <input class="form-control m-2 mr-sm-2 " type="search" placeholder="Pesquisar"aria-label="Pesquisar" id="pesquisa">
            </form>
        </div>
        <div id="cardsArea">
            <div class="container-float">
                <div class="style-title-card">
                    <h3> Selecione a marca <i class="bi bi-caret-down-fill"></i></h3>
                </div>

                <div class="container mt-3" id="marcaTitulo">

                    <!--Conteudo inserido via js-->
                </div>
            </div>
        </div>
        <div class="bg-light p-3  mb-5" id="tabelaArea" style="display: none;">
            <div id="corpoTabela"></div>
        </div>
    </main>
    <a href="javascript:void(0);" class="button-cart" id="openCartModal">
        <i class="bi bi-cart2"></i>
    </a>

    <!-- Modal do Carrinho -->
    <div class="modal fade" id="cartModal" tabindex="-1" role="dialog" aria-labelledby="cartModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">Itens no Carrinho</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="cartItems">
                    <!-- Itens do carrinho ser칚o inseridos aqui via JS -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Fechar</button>
                </div>
            </div>
        </div>
    </div>

    </div>

<!-- Bot칚o oculto que s칩 aparece quando o Chrome liberar o install prompt -->
<button id="btnInstall" class="btn btn-success" 
 style="display:none; 
         position:fixed; 
         bottom:20px; 
         left:50%; 
         transform:translateX(-50%); 
         z-index:9999;">
  游 Instalar App
</button>

<script>
  let deferredPrompt;
  const btnInstall = document.getElementById("btnInstall");

  // Captura o evento antes do Chrome exibir o banner nativo
  window.addEventListener("beforeinstallprompt", (e) => {
    e.preventDefault(); // impede o banner autom치tico
    deferredPrompt = e;
    btnInstall.style.display = "block"; // mostra bot칚o manual
  });

  // Quando o usu치rio clicar no bot칚o
  btnInstall.addEventListener("click", () => {
    btnInstall.style.display = "none"; // esconde o bot칚o
    deferredPrompt.prompt(); // dispara o banner nativo
    deferredPrompt.userChoice.then((choiceResult) => {
      console.log("Usu치rio escolheu:", choiceResult.outcome);
      deferredPrompt = null;
    });
  });
</script>



    <script>
  if ("serviceWorker" in navigator) {
    navigator.serviceWorker.register("/sw.js").then(() => {
      console.log("Service Worker registrado");
    });
  }
</script>

    <script src="../js/nomeEmpresa.js"></script>
    <script src="/config.js"></script>
    <script src="../js/index.js"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
        integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
        integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
        crossorigin="anonymous"></script>
</body>

</html>