<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Painel de Administração - Grupos de Participantes</title>
    <link rel="stylesheet" href="/css/reset.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.1/css/all.min.css"
      integrity="sha512-5Hs3dF2AEPkpNAR7UiOHba+lRSJNeM2ECkwxUIxC1Q/FLycGTbNapWXB4tP889k5T5Ju8fs4b1P5z/iB4nMfSQ=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <link rel="stylesheet" href="/html/auth/admin/css/style.css?v=2" />
  </head>
  <body>
    <div class="admin-container">
      <aside class="sidebar">
        <div class="logo">
          <i class="fas fa-store"></i>
          <h2>Admin Panel</h2>
        </div>
        <nav class="menu">
          <a href="/html/auth/admin/html/painel.html" class="menu-item">
            <i class="fas fa-tachometer-alt"></i>
            <span>Dashboard</span>
          </a>
          <a
            href="/html/auth/admin/html/painel-produtos.html"
            class="menu-item"
          >
            <i class="fas fa-box"></i>
            <span>Produtos</span>
          </a>
          <a
            href="/html/auth/admin/html/painel-categorias.html"
            class="menu-item"
          >
            <i class="fas fa-tags"></i>
            <span>Categorias</span>
          </a>
          <a href="/html/auth/admin/html/painel-pedidos.html" class="menu-item">
            <i class="fas fa-shopping-cart"></i>
            <span>Pedidos</span>
          </a>
          <a
            href="/html/auth/admin/html/painel-usuarios.html"
            class="menu-item"
          >
            <i class="fas fa-users"></i>
            <span>Usuários</span>
          </a>
          <a
            href="/html/auth/admin/html/painel-part-groups.html"
            class="menu-item active"
          >
            <i class="fas fa-user-friends"></i>
            <span>Grupos de Participantes</span>
          </a>
          <a href="/html/auth/admin/html/painel-contas.html" class="menu-item">
            <i class="fas fa-wallet"></i>
            <span>Contas</span>
          </a>
          <a
            href="/html/auth/admin/html/painel-transacoes.html"
            class="menu-item"
          >
            <i class="fas fa-exchange-alt"></i>
            <span>Transações</span>
          </a>
          <a
            href="/html/auth/admin/html/painel-config.html"
            class="menu-item"
          >
            <i class="fas fa-cog"></i>
            <span>Configurações</span>
          </a>
        </nav>
      </aside>

      <main class="main-content">
        <header class="header">
          <div class="header-left">
            <button class="btn-menu">
              <i class="fas fa-bars"></i>
            </button>
            <h1>Grupos de Participantes</h1>
          </div>
          <div class="header-right">
            <button class="btn-notification">
              <i class="fas fa-bell"></i>
              <span class="badge">3</span>
            </button>
            <div class="user-info">
              <img
                src="/images/avatar-placeholder.png"
                alt="User"
                class="user-avatar"
              />
              <span class="user-name">Admin</span>
            </div>
          </div>
        </header>

        <div class="content">
          <div class="content-header">
            <div class="search-bar">
              <i class="fas fa-search"></i>
              <input type="text" placeholder="Buscar grupos..." />
            </div>
            <button class="btn btn-primary" id="btnNewGroup">
              <i class="fas fa-plus"></i>
              Novo Grupo
            </button>
          </div>

          <div class="card">
            <div class="card-header">
              <h3>Lista de Grupos</h3>
            </div>
            <div class="card-body">
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Nome do Grupo</th>
                    <th>Descrição</th>
                    <th>Participantes</th>
                    <th>Criado em</th>
                    <th>Ações</th>
                  </tr>
                </thead>
                <tbody id="groupsTableBody">
                  <!-- Será preenchido dinamicamente -->
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </main>
    </div>

    <!-- Modal para Novo/Editar Grupo -->
    <div id="groupModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">Novo Grupo</h2>
          <button class="btn-close" id="btnCloseModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <form id="groupForm">
          <input type="hidden" id="groupId" />
          <div class="form-group">
            <label for="groupName">Nome do Grupo *</label>
            <input
              type="text"
              id="groupName"
              class="form-control"
              required
              placeholder="Digite o nome do grupo"
            />
          </div>
          <div class="form-group">
            <label for="groupDescription">Descrição</label>
            <textarea
              id="groupDescription"
              class="form-control"
              rows="3"
              placeholder="Digite uma descrição para o grupo"
            ></textarea>
          </div>
          <div class="form-group">
            <label>Participantes</label>
            <div class="participants-section">
              <div class="search-participants">
                <input
                  type="text"
                  id="searchUsers"
                  class="form-control"
                  placeholder="Buscar usuários..."
                />
                <div id="userSearchResults" class="search-results"></div>
              </div>
              <div id="selectedParticipants" class="selected-participants">
                <!-- Participantes selecionados -->
              </div>
            </div>
          </div>
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              id="btnCancelModal"
            >
              Cancelar
            </button>
            <button type="submit" class="btn btn-primary">Salvar</button>
          </div>
        </form>
      </div>
    </div>

    <!-- Modal para Gerenciar Participantes -->
    <div id="participantsModal" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h2>Gerenciar Participantes</h2>
          <button class="btn-close" id="btnCloseParticipantsModal">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body">
          <div class="search-bar">
            <i class="fas fa-search"></i>
            <input
              type="text"
              id="searchUsersInModal"
              placeholder="Buscar usuários..."
            />
          </div>
          <div id="availableUsers" class="available-users">
            <!-- Lista de usuários disponíveis -->
          </div>
          <div id="currentParticipants" class="current-participants">
            <h3>Participantes Atuais</h3>
            <div id="participantsList">
              <!-- Lista de participantes atuais -->
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button
            type="button"
            class="btn btn-secondary"
            id="btnCancelParticipantsModal"
          >
            Fechar
          </button>
        </div>
      </div>
    </div>

    <script src="/html/auth/admin/js/painel-part-groups.js"></script>
  </body>
</html>
